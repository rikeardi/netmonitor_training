name: lab3
topology:
  nodes:
    router1:
      kind: linux
      image: frrouting/frr:v7.5.0
      startup-config: router1.txt

    router2:
      kind: linux
      image: frrouting/frr:v7.5.0
      startup-config: router2.txt

    router3:
      kind: linux
      image: frrouting/frr:v7.5.0
      startup-config: router3.txt
    
    observium:
      kind: linux
      image: uberchuckie/observium
      ports:
      - 8102:8668
      binds:
      - observium.sh:/observium.sh
      exec:
      - /bin/bash /observium.sh
  
  links:
    - endpoints: ["router1:eth1", "router2:eth2"]
    - endpoints: ["router2:eth1", "router3:eth2"]
    - endpoints: ["router3:eth1", "router1:eth2"]
    - endpoints: ["observium:eth1", "router1:eth3"]