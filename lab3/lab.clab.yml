name: lab2
topology:
  nodes:
    router1:
      kind: vr-ros
      image: evilfreelancer/docker-routeros
      startup-config: router1.txt
      exec:
      - ros

    router2:
      kind: vr-ros
      image: evilfreelancer/docker-routeros
      startup-config: router2.txt
      exec:
      - ros

    router3:
      kind: vr-ros
      image: evilfreelancer/docker-routeros
      startup-config: router3.txt
      exec:
      - ros
    
    observium:
      kind: linux
      image: uberchuckie/observium
      ports:
      - 8102:8668
      binds:
      - observium.sh:/observium.sh
      exec:
      - /bin/bash /observium.sh
  
  links:
    - endpoints: ["router1:eth1", "router2:eth2"]
    - endpoints: ["router2:eth1", "router3:eth2"]
    - endpoints: ["router3:eth1", "router1:eth2"]
    - endpoints: ["observium:eth1", "router1:eth3"]