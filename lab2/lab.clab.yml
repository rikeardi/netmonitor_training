name: lab2
topology:
  nodes:
    srl1:
      kind: srl
      image: ghcr.io/nokia/srlinux
      startup-config: srl1.cli

    srl2:
      kind: srl
      image: ghcr.io/nokia/srlinux
      startup-config: srl2.cli

    srl3:
      kind: srl
      image: ghcr.io/nokia/srlinux
      startup-config: srl3.cli
    
    snmp:
      kind: linux
      image: elcolio/net-snmp
      binds:
      - snmp.sh:/snmp.sh
      exec: 
      - /bin/bash /snmp.sh
    
    observium:
      kind: linux
      image: uberchuckie/observium
      ports:
      - 8102:80
      binds:
      - observium.sh:/observium.sh
      exec:
      - /bin/bash /observium.sh
  
  links:
    - endpoints: ["srl1:e1-1", "srl2:e1-2"]
    - endpoints: ["srl2:e1-1", "srl3:e1-2"]
    - endpoints: ["srl3:e1-1", "srl1:e1-2"]
    - endpoints: ["snmp:eth1", "srl1:e1-5"]
    - endpoints: ["observium:eth1", "srl1:e1-6"]